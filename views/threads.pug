extends layout_with_account

block content
    form(action='/threads/delete' method='POST')
        table.threads-list
            thead
                tr
                    th
                        input(type='checkbox' id='select-all')
                    th ID
                    th Created On!
                    th Media Type
                    th Text
                    th Permalink
                    th Reply Audience
            tbody
                each thread in threads
                    tr.threads-list-item
                        td
                            input(type='checkbox' name='thread_ids' value=thread.id class='thread-checkbox')
                        td.thread-id
                            a(href=`/threads/${thread.id}`)=thread.id
                        td.thread-timestamp=thread.timestamp
                        td.thread-type=thread.media_type
                        td.thread-text=thread.text
                        td.thread-permalink
                            a(href=thread.permalink target='_blank') View on Threads
                        td.thread-reply-audience=thread.reply_audience
        
        button.delete-button(type='submit') Delete Selected

    div.paging
        if paging.nextUrl
            div.paging-next
                a(href=paging.nextUrl) Next

        if paging.previousUrl
            div.paging-previous
                a(href=paging.previousUrl) Previous

    script.
        document.getElementById('select-all').addEventListener('change', function (e) {
            const checkboxes = document.querySelectorAll('.thread-checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.checked = e.target.checked;
            });
        });
